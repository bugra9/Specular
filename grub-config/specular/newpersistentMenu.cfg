if [ "x$persistenceType" = "xfile" ]; then
	if [ "x${opt_filePersistentNew}" != "x" ]; then
		menuentry "Canlı Başlat (Kalıcı Depolama)" {
			set ok=""
			while [ ! "$ok" ]; do 
				echo "Değişikliklerin kayıt edilebilmesi için yeni dosya oluşturulacak. Bu dosya hangi isim ile kayıt edilsin?"
				read filename
				regexp -s ok '^(\w+)$' "$filename"
				echo ""
			done
			echo ""
			echo ""
			echo "Bu dosyanın boyutu Mb cinsinden ne olsun? (En az 100 Mb, en çok 16000 Mb)"
			read filesize
			while [ ! "$filesize" -ge "100" ]; do
				echo "Bu dosyanın boyutu Mb cinsinden ne olsun? (En az 100 Mb, en çok 16000 Mb)"
				read filesize
				echo ""
			done
			echo ""
			echo ""
			echo "Kalıcı depolama için $filesize Mb boyutunda dosya $persistentDir/$isolabelsafe/$filename yolunda oluşturularak işletim sistemi başlatılıyor..."
			eval "set opt_filePersistentNew=\"${opt_filePersistentNew}\""
			eval "set opt_filePersistent=\"${opt_filePersistent}\""
			linux (loop)$linuxFile $opt ${opt_filePersistentNew} ${opt_filePersistent}
			initrd $assetDir/lib.lz (loop)$initrdFile $assetDir/${initrdType}.lz
		}
	fi
else
	if [ "x${opt_filesystemPersistent}" != "x" ]; then
		menuentry "Canlı Başlat (Kalıcı Depolama)" {
			set ok=""
			while [ ! "$ok" ]; do 
				echo "Değişikliklerin kayıt edilebilmesi için yeni dizin oluşturulacak. Bu dizin hangi isim ile kayıt edilsin?"
				read filename
				regexp -s ok '^(\w+)$' "$filename"
				echo ""
			done
			echo ""
			echo ""
			echo "Değişiklikler $persistentDir/$isolabelsafe/$filename dizini içerisine kaydedilecek şekilde işletim sistemi başlatılıyor."
			eval "set opt_filesystemPersistent=\"${opt_filesystemPersistent}\""
			linux (loop)$linuxFile $opt ${opt_filesystemPersistent}
			initrd (loop)$initrdFile $assetDir/${initrdType}.lz
		}
	fi
fi